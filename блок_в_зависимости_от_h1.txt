Допустим есть у нас статьи по GTA 5, и в них мы хотим показывать рекламный блок на партнерку по продаже GTA 5.

Но тк на сайте есть и другие статьи, в них мы тоже хотим показывать рекламный блок, но другой тематики, например продаже аркан в DOTA 2

Создаем эти 2 блока и размещаем в нужном месте, например если вы используете wordpress то в файле single.php

Разметка:

<div id="gta5_sell">Я баннер, я продаю GTA 5.</div>
<div id="dota2_sell">Я баннер, я продаю DOTA 2.</div>

По дефолту скрываем оба эти блока.

CSS:

#gta5_sell {display:none;}
#dota2_sell {display:none;}

Применяем функцию поиска по H1 вашей статьи ключевого слова 'GTA'.

Если в H1 это слово есть - будет выведен баннер продажи GTA 5, нет - DOTA 2.

JS

  var divs = document.querySelectorAll("h1");
Array.from(divs).forEach(function(div) {
  if (div.textContent.indexOf("GTA") >= 0) {
    document.getElementById('gta5_sell').style.display = "block";
  } else {
  document.getElementById('dota2_sell').style.display = "block";
  }
});
